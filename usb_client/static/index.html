<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">
<title>Lights & Rollers setup</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<style>
</style>
<script src="https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js"></script>
<body>
<div id="app">
    <div class="w3-top">
        <div class="w3-bar w3-black">
            <a href="#pwms" class="w3-bar-item w3-button">PWMs</a>
            <a href="#deviceconfig" class="w3-bar-item w3-button">Device Config</a>
            <a href="#buttonconfig" class="w3-bar-item w3-button">Button Config</a>
            <a href="#outputconfig" class="w3-bar-item w3-button">Output Config</a>
        </div>
        <div v-if="!connected" class="w3-panel w3-yellow">
            <h1>Connecting...</h1>
        </div>
    </div>

    <div class="w3-content" style="margin-top: 40px;">
        <p v-if="!connected">
            <br><br><br><br>
        </p>

        <div id="pwms" class="w3-card-2">
            <div class="w3-container">

                <h2>PWM outputs</h2>
                <div class="w3-container">
                    <button class="w3-btn w3-ripple w3-green" @click="readAllPwm" >Read all</button>
                    <button class="w3-btn w3-ripple w3-red" @click="writeAllPwm" >Write all</button>
                </div>
                <div class="w3-container">
                    <table class="w3-table w3-striped">
                        <colgroup>
                            <col style="width: 120px;" />
                            <col style="width: 160px;" />
                            <col />
                        </colgroup>
                        <tr v-for="(pwm, index) in pwms">
                            <td>PWM {{ index + 1 }}</td>
                            <td>
                                <input type="number" max="50000" min="0" step="1000" v-model.number="pwms[index]" width="140px">
                            </td>
                            <td>
                                <button class="w3-btn w3-ripple w3-small w3-green" @click="readPwm(index)" >Read</button>
                                <button class="w3-btn w3-ripple w3-small w3-red" @click="writePwm(index)" >Write</button>
                            </td>
                        </tr>
                    </table>
                    <br>
                </div>
            </div>
        </div>

        <div id="deviceconfig" class="w3-card-2">
            <div class="w3-container">
                <h2>Device config</h2>
            </div>
        </div>
        
        <div id="buttonconfig" class="w3-card-2">
            <div class="w3-container">
                <h2>Button config</h2>
            </div>
        </div>
        
        <div id="outputconfig" class="w3-card-2">
            <div class="w3-container">
                <h2>Output config</h2>
            </div>
        </div>
    </div>
</div>
<script src="index.js"></script>
</body>
</html>